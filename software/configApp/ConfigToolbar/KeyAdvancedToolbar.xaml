<UserControl x:Class="configApp.ConfigToolbar.KeyAdvancedToolbar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:configApp.ConfigToolbar"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="400">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <StackPanel x:Name="ActionsStackPanel" VerticalAlignment="Top" Margin="10">
            </StackPanel>
        </ScrollViewer>
        <GridSplitter Background="Gray" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" Height="5" />
        <Button x:Name="AddActionButton" Content="Add action" Grid.Row="1" Click="AddActionButton_Click" Margin="10"/>
        <Popup x:Name="MenuPopup" PlacementTarget="{Binding ElementName=AddActionButton}" Placement="Bottom" StaysOpen="False" Grid.Row="1">
            <StackPanel Background="LightGray" Margin="0,5,0,0" Width="{Binding ActualWidth, ElementName=AddActionButton, Mode=OneWay}">
                <Button x:Name="KeyCaptureButton" Content="Key Action" Click="KeyCaptureButton_Click" />
                <Button x:Name="DelayButton" Content="Delay Action" Click="DelayButton_Click"  />
                <Button x:Name="SystemButton" Content="System Action" Click="SystemButton_Click"  />
            </StackPanel>
        </Popup>
    </Grid>
</UserControl>
